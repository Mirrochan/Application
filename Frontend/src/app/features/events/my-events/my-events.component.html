
<div class="min-h-screen bg-gray-50 p-8" *ngIf="isEvents">
  <div class="max-w-6xl mx-auto bg-white rounded-2xl shadow p-6">
    
    <div class="flex justify-between items-center mb-4">
      <div>
        <h1 class="text-2xl font-bold text-gray-800">My Events</h1>
        <p class="text-gray-500 text-sm">View and manage your event calendar</p>
      </div>

      <div class="flex items-center gap-3">
        <button
          routerLink="/create-event"
          class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition flex items-center gap-1">
          <span class="material-icons text-sm">add</span>
          Create Event
        </button>

        <div class="flex bg-gray-100 rounded-lg">
          <button
            (click)="switchView('month')"
            class="px-4 py-2 text-sm font-medium rounded-lg transition"
            [ngClass]="viewMode === 'month' ? 'bg-indigo-600 text-white' : 'text-gray-700'">
            Month
          </button>
          <button
            (click)="switchView('week')"
            class="px-4 py-2 text-sm font-medium rounded-lg transition"
            [ngClass]="viewMode === 'week' ? 'bg-indigo-600 text-white' : 'text-gray-700'">
            Week
          </button>
        </div>
      </div>
    </div>

    <div class="flex items-center gap-1 mb-4">
      <button (click)="prevPeriod()" class="p-2 text-gray-600 hover:text-indigo-600">
        <span class="material-icons">chevron_left</span>
      </button>
      <h1 class="text-lg font-semibold text-gray-800">{{ currentMonthLabel }}</h1>
      <button (click)="nextPeriod()" class="p-2 text-gray-600 hover:text-indigo-600">
        <span class="material-icons">chevron_right</span>
      </button>
    </div>

 
    <div *ngIf="viewMode === 'month'" class="overflow-hidden rounded-xl border border-gray-100">
      <div class="grid grid-cols-7 bg-gray-50 text-sm font-semibold text-center text-gray-600">
        <div *ngFor="let day of ['Sun','Mon','Tue','Wed','Thu','Fri','Sat']" class="py-2">
          {{ day }}
        </div>
      </div>

      <div class="grid grid-cols-7 border-t border-gray-100">
        <div *ngFor="let i of [].constructor(startDayOffset)" class="h-24 bg-white"></div>

        <div *ngFor="let day of daysInMonth" 
             class="h-24 bg-white p-2 border border-gray-100 relative"
             [class.border-purple-500]="isToday(day)"
             [class.border-2]="isToday(day)">
          <div class="text-sm" 
              >
            {{ day }}
          </div>
          <div *ngFor="let e of getEventsForDay(day)" 
               (click)="openEvent(e.id)"
               class="mt-2 text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded cursor-pointer hover:bg-indigo-200 transition">
            {{ e.date | date:'HH:mm' }} - {{ e.title }}
          </div>
        </div>
      </div>
    </div>


    <div *ngIf="viewMode === 'week'" class="grid grid-cols-7 gap-3">
      <div *ngFor="let day of currentWeekDays" 
           class="bg-white rounded-xl shadow-sm border p-4 h-40"
           [class.border-purple-500]="isTodayInWeek(day)"
           [class.border-2]="isTodayInWeek(day)">
        <div class="font-semibold"
           >
          {{ day | date:'EEE, MMM d' }}
        </div>
        <div class="text-sm text-gray-500 mt-1">
          <ng-container *ngIf="getEventsForWeekday(day).length > 0; else noEvents">
            <div *ngFor="let ev of getEventsForWeekday(day)"
                 (click)="openEvent(ev.id)"
                 class="mt-2 bg-indigo-100 text-indigo-700 px-2 py-1 rounded text-xs cursor-pointer hover:bg-indigo-200 transition">
              {{ ev.date | date:'HH:mm' }} — {{ ev.title }}
            </div>
          </ng-container>
          <ng-template #noEvents>No events</ng-template>
        </div>
      </div>
    </div>

  </div>
</div>
<div *ngIf="!isEvents" class="min-h-177 flex items-center justify-center px-4">
  <div class="w-full max-w-3xl bg-white rounded-2xl shadow-lg p-8 text-center">
 
    <div class="mx-auto w-32 h-32 flex items-center justify-center bg-indigo-50 rounded-full">
      <svg class="w-16 h-16 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M8 7V3m8 4V3M3 11h18M5 21h14a2 2 0 002-2V8H3v11a2 2 0 002 2z"></path>
      </svg>
    </div>

    <h2 class="mt-6 text-2xl font-semibold text-gray-900">You don’t have any events yet</h2>
    <p class="mt-2 text-gray-500">Explore public events to join, or create your own event to start inviting people.</p>

  </div>
</div>